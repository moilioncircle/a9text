<!-- // --> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- // --> <script type="text/javascript" src="./a9loader.js"></script>
<!-- // Run As HTM
/* --> <script type="text/javascript">
var file2area = {
'bash':"*.sh|*.bash",
'java':"*.java",
'c':"*.c",
'cpp':"*.C|*.cpp|*.h",
'sql':"*.sql"
};
var text = "";
A9Loader.asyncImportClass('com.trydofor.a9text.parser.a9text');
A9Loader.asyncImportClass('com.trydofor.a9text.render.html.a9text');
A9Loader.runAfterImport(function(){
try{
    var file = A9Loader.getPageInfo();
    if(A9Util.isBlank(file)) file = "doc/cn/a9text/a9text-manual_3.2.txt";
    
    text = A9Loader.syncLoadText(file);
    if(text != "")
    {
        var ldot = file.lastIndexOf('.');
        if(ldot>0)
        {
            var crlf = A9Util.getCRLF(text);
            var extn = file.substr(ldot);
            for(var key in file2area)
            {
                if(file2area[key].indexOf(extn) >=0)
                {
                    text = "========= "+key+":"+file+" =========" 
                         + crlf + text + crlf
                         + "====================================";
                    break;
                }
            }
        }
        //
        var a9dom = new A9Dom(null,A9Dom.type.root); //com.trydofor.a9text.A9Dom
        a9dom.setText(text);
        a9dom.putInfo(A9Dom.type.root$path,A9Util.getDir(file));
        new A9TextParser().parse(a9dom,function(){
                new A9TextRender().render(a9dom,function(){
                document.write(a9dom.getData());
                document.close();
            });
        });
    }
}catch(e){
    alert(e)
    document.write("<PRE>"+text+"</PRE>");
}
});
<!-- */// --> </script>

<!-- // Run As JS
try{
    var bodyHtml = document.body?document.body.innerHTML:"";
    var a9PreText = [];
    var a9PreHtml = [];
    var a9DomHtml = {};
    var lastDomId = -1;
    
    var preTags = document.getElementsByTagName("PRE");
    for(var i=0; i<preTags.length;i++){
        if(/a9text/i.test(preTags[i].getAttribute("title"))){
            var preText = preTags[i].innerText || preTags[i].textContent;
            if (preText != ""){
                a9PreText.push(preText);
                a9PreHtml.push(preTags[i].innerHTML);
            }
        }
    }
    if(a9PreText.length >0){
        A9Loader.asyncImportClass('com.trydofor.a9text.parser.a9text');
        A9Loader.asyncImportClass('com.trydofor.a9text.render.html.a9text');
        
        A9Loader.runAfterImport(function(){
            for(var i=0; i<a9PreText.length;i++){
                var a9dom = new A9Dom(null,A9Dom.type.root); //com.trydofor.a9text.A9Dom
                a9dom.setText(a9PreText[i]);
                a9dom.putInfo(A9Dom.type.root$path,A9Loader.getPagePath());
                a9DomHtml[a9dom.getId()] = a9PreHtml[i];
                if(i == a9PreText.length-1) lastDomId=a9dom.getId();
                
                new A9TextParser().parse(a9dom,function(){
                    new A9TextRender().render(a9dom,function(){
                        var a9htm = a9dom.getData();
                        var preHtml = a9DomHtml[a9dom.getId()];
                        var prePos  = bodyHtml.indexOf(preHtml);
                        var headPos = bodyHtml.lastIndexOf('<',prePos);
                        var footPos = bodyHtml.indexOf('>',prePos+preHtml.length)+1;
                        bodyHtml = bodyHtml.substring(0,headPos) + a9htm + bodyHtml.substr(footPos);
                        
                        if(lastDomId == a9dom.getId()){
                            if(document.body) document.body.innerHTML='';
                            document.write(bodyHtml);
                            //window.setTimeout("document.write(\""+bodyHtml+"\")",1000);
                            //document.close();
                        }
                    });
                });
            }
        });
    }
}catch(e){
    alert("failed to do a9text: "+e);
}
// -->